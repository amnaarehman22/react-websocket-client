{"ast":null,"code":"var _jsxFileName = \"/Users/amnaabdulrehman/Documents/GitHub/react-websocket-client/src/WebSocketClient.js\",\n  _s = $RefreshSig$();\n// src/WebSocketClient.js\nimport React, { useEffect, useState } from 'react';\nimport socketIOClient from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WebSocketClient = () => {\n  _s();\n  const [sensorData, setSensorData] = useState(null); // Initialize with null or empty object\n  const [connected, setConnected] = useState(false); // State to track socket connection\n\n  useEffect(() => {\n    const socket = socketIOClient('ws://localhost:8080'); // Replace with your WebSocket server URL\n\n    socket.on('connect', () => {\n      console.log('Connected to WebSocket server');\n      setConnected(true); // Update state to indicate connection established\n    });\n    socket.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n      setConnected(false); // Update state to indicate disconnection\n    });\n    socket.on('sensorData', data => {\n      console.log('Received sensor data:', data);\n      setSensorData(data); // Update state with received data\n    });\n    return () => {\n      socket.disconnect(); // Clean up socket connection on component unmount\n    };\n  }, []);\n  if (!connected) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this); // Handle initial loading state while connecting\n  }\n  if (!sensorData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No sensor data received yet...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this); // Handle case where no data has been received\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"WebSocket Client\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Sensor ID: \", sensorData.sensor_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Coordinates: (\", sensorData.coordinates.x, \", \", sensorData.coordinates.y, \", \", sensorData.coordinates.z, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Timestamp: \", sensorData.timestamp]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(WebSocketClient, \"twJazlBK+0h/d15DHXzZPbIhZp4=\");\n_c = WebSocketClient;\nexport default WebSocketClient;\nvar _c;\n$RefreshReg$(_c, \"WebSocketClient\");","map":{"version":3,"names":["React","useEffect","useState","socketIOClient","jsxDEV","_jsxDEV","WebSocketClient","_s","sensorData","setSensorData","connected","setConnected","socket","on","console","log","data","disconnect","children","fileName","_jsxFileName","lineNumber","columnNumber","sensor_id","coordinates","x","y","z","timestamp","_c","$RefreshReg$"],"sources":["/Users/amnaabdulrehman/Documents/GitHub/react-websocket-client/src/WebSocketClient.js"],"sourcesContent":["// src/WebSocketClient.js\nimport React, { useEffect, useState } from 'react';\nimport socketIOClient from 'socket.io-client';\n\nconst WebSocketClient = () => {\n    const [sensorData, setSensorData] = useState(null); // Initialize with null or empty object\n    const [connected, setConnected] = useState(false); // State to track socket connection\n\n    useEffect(() => {\n        const socket = socketIOClient('ws://localhost:8080'); // Replace with your WebSocket server URL\n\n        socket.on('connect', () => {\n            console.log('Connected to WebSocket server');\n            setConnected(true); // Update state to indicate connection established\n        });\n\n        socket.on('disconnect', () => {\n            console.log('Disconnected from WebSocket server');\n            setConnected(false); // Update state to indicate disconnection\n        });\n\n        socket.on('sensorData', (data) => {\n            console.log('Received sensor data:', data);\n            setSensorData(data); // Update state with received data\n        });\n\n        return () => {\n            socket.disconnect(); // Clean up socket connection on component unmount\n        };\n    }, []);\n\n    if (!connected) {\n        return <div>Loading...</div>; // Handle initial loading state while connecting\n    }\n\n    if (!sensorData) {\n        return <div>No sensor data received yet...</div>; // Handle case where no data has been received\n    }\n\n    return (\n        <div>\n            <h1>WebSocket Client</h1>\n            <div>\n                <p>Sensor ID: {sensorData.sensor_id}</p>\n                <p>Coordinates: ({sensorData.coordinates.x}, {sensorData.coordinates.y}, {sensorData.coordinates.z})</p>\n                <p>Timestamp: {sensorData.timestamp}</p>\n            </div>\n        </div>\n    );\n};\n\nexport default WebSocketClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}